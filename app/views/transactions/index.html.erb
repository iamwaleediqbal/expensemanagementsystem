<p id="notice"><%= notice %></p>

<h1>Transactions</h1>
<br>
<%= button_to 'Add New Transaction', new_transaction_path,class: " large btn btn-primary btn-floating btn-custom",:method => :get %>
<br>

<table class = "table" border="10" width = "500">
  <thead > 
    <tr>
      <th scope = "col">Bank account</th>
      <th scope = "col">Amount</th>
      <th scope = "col">Type</th>
      <th scope = "col">Category</th>
      <th scope = "col">Date performed</th>
      <th scope = "col">From Wallet</th>
      <th scope = "col" colspan="3"></th>
    </tr>
  </thead>

  <tbody>
  <%= page_entries_info @transactions %>
  <%= paginate @transactions%>
    <% @transactions.select{ |trans| trans.user_id == current_user.id}.each do |transaction|  %>
      <tr>
        <td scope = "row"><%= transaction.bank_account_id != 1? current_user.bank_accounts.find(transaction.bank_account_id).name : "Personal Wallet"%></td>
        <td><%= transaction.amount %></td>
        <td><%= transaction.type %></td>
        <td><%= transaction.category %></td>
        <td><%= transaction.date_performed %></td>
        <td><%= transaction.from_wallet %></td>
        <td><%= link_to 'Show', transaction, class: 'btn btn-success' %></td>
        <td><%= link_to 'Edit', edit_transaction_path(transaction),class: 'btn btn-primary' %></td>
        <td><%= link_to 'Destroy', transaction, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %></td>
      </tr>
    <% end %>
  </tbody>
</table>


